---
import menuImg from "../img/menu.png"
import close from "../img/close.png"
---
<div class="h-full items-center mt-1">
    <button id="button-menu">
        <img src={menuImg.src} alt="" class="h-14">
    </button>
    <div class="h-screen flex invisible transition-opacity duration-300 justify-center items-center w-screen absolute z-20 left-0 bg-black bg-opacity-80" id="container-header">
        <div class="bg-white rounded-md w-1/3 h-1/2 flex flex-col justify-center items-center">
            <div class="w-11/12 h-5/6 flex justify-end items-start">
                <button id="button-close">
                    <img src={close.src} alt="" class="h-12">
                </button>
            </div>
            <div class="w-1/3 flex flex-col gap-6 items-center absolute">
                <button class="text-3xl w-24 text-logo transition-colors duration-200 hover:text-orange-300" id="button-iglesia">Iglesia</button>
                <button class="text-3xl w-28 text-logo transition-colors duration-200 hover:text-orange-300" id="button-material">Material</button>
                <button class="text-3xl w-20 text-logo transition-colors duration-200 hover:text-orange-300" id="button-kids">Niños</button>
                <button class="text-3xl w-72 text-logo transition-colors duration-200 hover:text-orange-300" id="button-desarrollo">Centro de Desarrollo</button>
                <button class="text-3xl w-32 text-logo transition-colors duration-200 hover:text-orange-300">Contacto</button>
            </div>
        </div>
        <div class="bg-blue-400 rounded-md h-1/2 gap-5 items-center flex flex-col justify-center absolute z-30" id="container-submenu"></div>
    </div>
</div>
<script>
    import { menu } from '../store.ts'

    // function openIglesia() {
    //     function createElement(childText:string) {
    //         const a = document.createElement("a")
    //         a.setAttribute("href", "#")
    //         a.setAttribute("class", "text-3xl px-2 text-logo transition-colors duration-200 hover:text-orange-300")
    //         a.innerText = childText
    //         return a
    //     }
    //     document.getElementById("container-submenu")?.appendChild(createElement("Creemos en..."))
    //     document.getElementById("container-submenu")?.appendChild(createElement("Ubicaciones"))
    //     document.getElementById("container-submenu")?.appendChild(createElement("Agenda"))
    //     document.getElementById("container-submenu")?.appendChild(createElement("Grupos Celulares"))
    //     document.getElementById("container-submenu")?.appendChild(createElement("Asociacion Filantrópica"))
    //     document.getElementById("container-submenu")?.appendChild(createElement("Nuestro Pastor"))

    // }

    function openMaterial() {
        console.log("esto es material")
    }

    function openKids() {
        console.log("esto es kids")
    }

    function openDesarrollo() {
        console.log("esto es desarrollo")
    }

    function openMenu() {
        menu.set(true)
    }

    function closeMenu() {
        menu.set(false)
    }

    document.getElementById("button-menu")?.addEventListener("click", openMenu)
    document.getElementById("button-close")?.addEventListener("click", closeMenu)

    // document.getElementById("button-iglesia")?.addEventListener("click", openIglesia)
    document.getElementById("button-material")?.addEventListener("click", openMaterial)
    document.getElementById("button-kids")?.addEventListener("click", openKids)
    document.getElementById("button-desarrollo")?.addEventListener("click", openDesarrollo)

    menu.subscribe(menu => {
        if (menu) {
            document.getElementById("container-header")?.classList.remove("invisible", "opacity-0")
            document.getElementById("container-header")?.classList.add("visible", "opacity-100")
        } else {
            document.getElementById("container-header")?.classList.add("opacity-0")
            document.getElementById("container-header")?.classList.remove("opacity-100", "visible")
            setTimeout(() => {
                document.getElementById("container-header")?.classList.add("invisible")
            }, 300)
        }
    })
</script>

